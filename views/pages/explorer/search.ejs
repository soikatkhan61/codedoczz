<%- include('../../partials/head.ejs')  %>

<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <h5>Search result for - <%= searchTerm %> </h5>

            <% if(posts.length ===0){ %>
            <p class="text-center text-muted">Nothing found</p>
            <% }else{ %>
            <% for(let post of posts){ %>
            <div class="card card-body my-2">
                <a href="/explorer/<%= post._id %> " class="text-dark">
                    <h5><%= post.title %> </h5>
                    <p><%= truncate(post.body) %> </p>
                </a>

            </div>
            <% } %>
            <% } %>

            <% if(totalPage > 1){ %>
            <nav>
                <ul class="pagination">
                    <li class="page-item <%= currentPage ===1 ? 'disabled' : '' %> ">
                        <a class="page-link" href="<%=`/search?term=${term}&page=${currentPage-1}`%>">Previous</a>
                    </li>

                    <% for(let i=1;i<totalPage;i++){ %>

                    <li class="page-item <%= currentPage === i ? 'active' : '' %> ">
                        <a class="page-link" href="<%=`/search?term=${term}&page=${i}`%>"><%= i %> </a>
                    </li>

                    <% } %>

                    <li class=" page-item <%= currentPage === totalPage ? 'disabled' : '' %> ">
                        <a class=" page-link" href="<%=`/search?term=${term}&page=${currentPage+1}`%>">Next</a>
                    </li>
                </ul>
            </nav>
            <% } %>
        </div>
    </div>
</div>


<%- include('../../partials/footer.ejs')  %>

</body>

</html>